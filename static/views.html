<div>
    <textarea id="tmpl-home-default">

    </textarea>

    <textarea id="tmpl-agent-list">
        <table class="ui celled structured table">
            <thead>
                <tr>
                    <th class="one wide"></th>
                    <th class="one wide">UUID</th>
                    <th class="three wide">服务器地址</th>
                    <th class="one wide">状态码</th>
                    <th class="one wide">版本</th>
                    <th>工作目录</th>
                    <th class="three wide">最后检查</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="agent in agents">
                    <td class="center aligned">
                        <i class="large circle icon" ng-class="{true: 'green check', false: 'red remove'}[agent.online]"></i>
                    </td>
                    <td>{{agent.uuid}}</td>
                    <td>{{agent.server}}</td>
                    <td>
                        {{agent.info.statusCode}}
                    </td>
                    <td>
                        {{agent.info.version}}
                    </td>
                    <td>
                        {{agent.info.projectDirectory}}
                    </td>
                    <td data-time-ago="{{agent.timestamp}}">
                    </td>
                </tr>
            </tbody>
        </table>
    </textarea>

    <textarea id="tmpl-projects">
        <div class="ui grid">
            <div class="row" style="display: none;">
                <div class="six wide column">
                    <h3>所有项目</h3>
                </div>
                <div class="ten wide column">
                    <h3>任务列表</h3>
                </div>
            </div>
            <div class="row">
                <div class="six wide column">
                    <project-list></project-list>
                </div>

                <div class="ten wide column">
                    <task-list data-project-id="{{currentProjectId}}"></task-list>
                </div>
            </div>
        </div>
    </textarea>

    <!--任务列表-->
    <textarea id="tmpl-task-list">
        <table class="ui celled structured table">
            <thead>
            <tr>
                <th class="one wide">Hash</th>
                <th>说明</th>
                <th class="three wide">创建时间</th>
                <th class="three wide">最后执行</th>
                <th class="two wide">状态</th>
                <th class="two wide">部署</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="task in tasks.items" ng-class="{positive: runningTask.id == task.id}">
                <td>
                    <a href="{{task.url}}" target="_blank">{{task.hash | limitTo: 10}}</a>
                </td>
                <td>{{task.message}}</td>
                <td>{{task.timestamp | date: 'yyyy-MM-dd hh:mm'}}</td>
                <td>{{task.last_execute | date: 'yyyy-MM-dd hh:mm'}}</td>
                <td>{{task.status | taskStatus}}</td>
                <td class="center aligned">
                    <div class="ui teal buttons">
                        <div class="ui button" ng-click="onClickDeploy($event, task)" ng-class="{loading: runningTask.id == task.id}">部署</div>
                        <div class="ui floating dropdown icon button">
                            <i class="dropdown icon"></i>
                            <div class="menu">
                                <div class="item"><i class="edit icon"></i> Edit Post</div>
                                <div class="item"><i class="delete icon"></i> Remove Post</div>
                                <div class="item"><i class="hide icon"></i> Hide Post</div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </textarea>

    <textarea id="tmpl-project-list">
         <table class="ui celled structured table">
             <thead>
             <tr>
                 <th>项目名称</th>
                 <th>最新任务</th>
                 <th>最新状态</th>
             </tr>
             </thead>
             <tbody>
             <tr ng-repeat="project in projects"
                 ng-click="onClickProjectItem($event, project)"
                 ng-class="{active: project.project_id == currentProjectId, error: project.status != 10 && project.status != 1}">
                 <td>{{project.project_id}}</td>
                 <td>{{project.message}}</td>
                 <td>{{project.status | taskStatus}}</td>
             </tr>
             </tbody>
         </table>
    </textarea>

    <textarea id="tmpl-realtime">
      <div class="realtime">
          <realtime-log></realtime-log>
      </div>
    </textarea>
</div>